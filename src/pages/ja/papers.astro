---
import Footer from "@/components/Footer.astro";
import Header from "@/components/Header/index.astro";
import { useTranslations } from "@/i18n/utils";
import { papers } from "@/lib/papers";
import Layout from "../../layouts/Layout.astro";

const lang = Astro.currentLocale || "ja";
const t = useTranslations(lang as "en" | "ja");
---

<Layout>
  <Header />

  <main class="container mx-auto px-4 py-10">
    <h1 class="text-3xl font-bold tracking-tight text-gray-900 mb-6">{t('papers.title')}</h1>

    <p class="text-gray-600 mb-6">{t('papers.description')}</p>

    {papers.length === 0 ? (
      <p class="text-gray-600">関連論文はまだ登録されていません。</p>
    ) : (
      <ul class="space-y-6">
        {papers.map((p) => (
          <li class="p-5 rounded-md border border-gray-200 bg-white shadow-sm">
            <div class="text-lg font-semibold text-gray-900">{p.title}</div>
            <div class="text-sm text-gray-700 mt-1">{p.authors}</div>
            <div class="text-sm text-gray-500 mt-1">
              {(p.venue || "").toString()} {p.year ? `(${p.year})` : ""}
            </div>
            {p.url && (
              <div class="mt-3">
                  <a href={p.url} target="_blank" rel="noopener noreferrer" class="hover:underline">論文を読む</a>
              </div>
            )}
          </li>
        ))}
      </ul>
    )}
  </main>

  <Footer />
  </Layout>
